# JavaVision

## ğŸª§ é¡¹ç›®èµ·æº

- JavaVisionæ˜¯ä¸€ä¸ªåŸºäºJavaå¼€å‘çš„å…¨èƒ½è§†è§‰æ™ºèƒ½è¯†åˆ«é¡¹ç›®ã€‚è¯¥é¡¹ç›®èµ·æºäºå¯¹å›¾åƒå¤„ç†å’Œäººå·¥æ™ºèƒ½é¢†åŸŸçš„çƒ­æƒ…ï¼Œä»¥åŠå¯¹Javaä½œä¸ºä¸»è¦ç¼–ç¨‹è¯­è¨€çš„åšæŒã€‚åœ¨AIé¢†åŸŸï¼Œå¤§å¤šæ•°è§£å†³æ–¹æ¡ˆéƒ½æ˜¯ä½¿ç”¨Pythonå®ç°çš„ï¼Œå› æ­¤å†³å®šå……åˆ†åˆ©ç”¨Javaçš„ä¼˜åŠ¿æ¥æ„å»ºä¸€ä¸ªåŠŸèƒ½å¼ºå¤§ä¸”æ˜“äºé›†æˆçš„è§†è§‰æ™ºèƒ½è¯†åˆ«å¹³å°ã€‚

  >JavaVisionæ˜¯å®Œå…¨å¼€æºã€å…è´¹å¹¶æ”¯æŒå¤šå¹³å°éƒ¨ç½²è§†è§‰æ™ºèƒ½è¯†åˆ«é¡¹ç›®
  >å¦‚æœè¯¥é¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œæ‚¨çš„staræ˜¯æˆ‘ä¸æ–­ä¼˜åŒ–çš„åŠ¨åŠ›ï¼ï¼ï¼

## ğŸ‘ é¡¹ç›®ç‰¹ç‚¹

JavaVisionå…·æœ‰ä»¥ä¸‹çªå‡ºç‰¹ç‚¹ï¼š

- æ¡†æ¶: SpringBoot

- å¤šåŠŸèƒ½æ€§ï¼šJavaVisionä¸ä»…æ”¯æŒOCRæ¥å£ã€YoloV8ç‰©ä½“è¯†åˆ«ã€äººè„¸è¯†åˆ«ç­‰æ ¸å¿ƒåŠŸèƒ½ï¼Œè¿˜å¯ä»¥è½»æ¾æ‰©å±•åˆ°å…¶ä»–é¢†åŸŸï¼Œå¦‚è¯­éŸ³è¯†åˆ«ã€åŠ¨ç‰©è¯†åˆ«ã€å®‰é˜²æ£€æŸ¥ç­‰ã€‚è¿™ä½¿å¾—JavaVisionæˆä¸ºä¸€ä¸ªå…¨é¢è§£å†³å¤šç§åœºæ™¯éœ€æ±‚çš„è‡ªé€‚åº”å¹³å°ã€‚

- é«˜æ€§èƒ½ï¼šJavaVisionç»è¿‡ç²¾å¿ƒä¼˜åŒ–ï¼Œå…·å¤‡å“è¶Šçš„æ€§èƒ½è¡¨ç°ã€‚é€šè¿‡å·§å¦™åœ°ç»“åˆç®—æ³•ä¼˜åŒ–å’Œå¤šçº¿ç¨‹æŠ€æœ¯ï¼ŒJavaVisionèƒ½å¤Ÿåœ¨çŸ­æ—¶é—´å†…å¤„ç†å¤§é‡å¤æ‚çš„å›¾åƒæ•°æ®ï¼Œå¹¶å¿«é€Ÿå‡†ç¡®åœ°è¿›è¡Œè¯†åˆ«å’Œåˆ†æã€‚

- å¯é ç¨³å®šï¼šJavaä½œä¸ºä¸€ç§æˆç†Ÿè€Œå¯é çš„ç¼–ç¨‹è¯­è¨€ï¼Œå…·å¤‡å‡ºè‰²çš„ç¨³å®šæ€§å’Œå®‰å…¨æ€§ã€‚JavaVisionä¸¥æ ¼éµå¾ªæœ€ä½³å®è·µå’Œé«˜æ ‡å‡†ï¼Œç¡®ä¿é¡¹ç›®çš„ç¨³å®šè¿è¡Œï¼Œå¹¶æä¾›å¯é çš„æ•°æ®ä¿æŠ¤å’Œéšç§ä¿å¯†ã€‚

- æ˜“äºé›†æˆï¼šJavaVisionæä¾›ç®€æ´è€Œå¼ºå¤§çš„APIæ¥å£ï¼Œä½¿å¾—ä¸å…¶ä»–ç³»ç»Ÿå’Œå¹³å°çš„é›†æˆå˜å¾—è½»æ¾å¿«æ·ã€‚æ— è®ºæ˜¯åµŒå…¥åˆ°ç°æœ‰åº”ç”¨ç¨‹åºä¸­ï¼Œè¿˜æ˜¯ä½œä¸ºç‹¬ç«‹çš„æœåŠ¡è¿›è¡Œéƒ¨ç½²ï¼ŒJavaVisionéƒ½èƒ½å¤Ÿä¸å„ç§æŠ€æœ¯æ ˆå’Œæ¡†æ¶æ— ç¼è¡”æ¥ã€‚

- çµæ´»å¯æ‹“å±•ï¼šJavaVisioné‡‡ç”¨æ¨¡å—åŒ–è®¾è®¡ï¼Œå…è®¸ç”¨æˆ·æ ¹æ®è‡ªå·±çš„éœ€æ±‚è¿›è¡Œçµæ´»çš„å®šåˆ¶å’Œæ‰©å±•ã€‚ç”¨æˆ·å¯ä»¥æ ¹æ®é¡¹ç›®éœ€æ±‚é€‰æ‹©åˆé€‚çš„åŠŸèƒ½æ¨¡å—ï¼Œä¹Ÿå¯ä»¥é€šè¿‡æ’ä»¶æœºåˆ¶æ·»åŠ æ–°çš„è¯†åˆ«ç®—æ³•å’Œç‰¹æ€§ã€‚

  > JavaVisionæ—¨åœ¨ä¸ºJavaå¼€å‘è€…æä¾›ä¸€ä¸ªå…¨é¢çš„è§†è§‰æ™ºèƒ½è¯†åˆ«è§£å†³æ–¹æ¡ˆï¼Œè®©ä»–ä»¬èƒ½å¤Ÿä»¥ç†Ÿæ‚‰ä¸”å–œçˆ±çš„ç¼–ç¨‹è¯­è¨€æ„å»ºå‡ºå…ˆè¿›ã€å¯é ä¸”æ˜“äºé›†æˆçš„AIåº”ç”¨ã€‚æ— è®ºæ˜¯ä¼ä¸šçº§åº”ç”¨è¿˜æ˜¯ä¸ªäººé¡¹ç›®ï¼ŒJavaVisionéƒ½èƒ½åŠ©åŠ›å¼€å‘è€…å®ç°æ›´å¤šå¯èƒ½æ€§

## ğŸ” è¿›é˜¶ä½¿ç”¨

dockerä¸€é”®éƒ¨ç½²

- docker pull javpower/pdocr:v4.0.1
- docker run --name mycontainer -p 6888:6888 javpower/pdocr:v4.0.1

>   <img src="./docs/img/pdocr.png" style="zoom:100%;" />

## é¸£è°¢

- [RapidOcr-Java](https://github.com/MyMonsterCat/RapidOcr-Java)
- [RapidOCR](https://github.com/RapidAI/RapidOCR)
- [PaddleOCR](https://github.com/PaddlePaddle/PaddleOCR)
- [AIAS](https://gitee.com/mymagicpower/AIAS)

## ğŸ” é¡¹ç›®API

### ä¸€ã€OCRåº”ç”¨

#### 1ã€YOLOV8è¯†åˆ«ç‰©ä½“

**æ¥å£åœ°å€**:`/yolo8`

**è¯·æ±‚æ–¹å¼**:`POST`


**è¯·æ±‚æ•°æ®ç±»å‹**:`multipart/form-data`


**å“åº”æ•°æ®ç±»å‹**:`*/*`


**æ¥å£æè¿°**:


**è¯·æ±‚å‚æ•°**:


| å‚æ•°åç§° | å‚æ•°è¯´æ˜ | è¯·æ±‚ç±»å‹ | æ˜¯å¦å¿…é¡» | æ•°æ®ç±»å‹ | schema |
| -------- | -------- | -------- | -------- | -------- | ------ |
| file     |          | query    | true     | file     |        |



**å“åº”çŠ¶æ€**:


| çŠ¶æ€ç  | è¯´æ˜ | schema |
| ------ | ---- | ------ |
| 200    | OK   |        |


**å“åº”å‚æ•°**:


æš‚æ— 


**å“åº”ç¤ºä¾‹**:

```javascript
{
    "code": 500,
    "success": false,
    "msg": "java.io.FileNotFoundException: /opt/ocr/20231109151816332402394.png (No such file or directory)",
    "data": null,
    "time": "2023-11-09 15:18:16",
    "traceId": null
}
```

#### 2ã€YOLOV8è¯†åˆ«ç‰©ä½“


**æ¥å£åœ°å€**:`/yolo8/json`


**è¯·æ±‚æ–¹å¼**:`POST`


**è¯·æ±‚æ•°æ®ç±»å‹**:`multipart/form-data`


**å“åº”æ•°æ®ç±»å‹**:`*/*`


**æ¥å£æè¿°**:


**è¯·æ±‚å‚æ•°**:


| å‚æ•°åç§° | å‚æ•°è¯´æ˜ | è¯·æ±‚ç±»å‹ | æ˜¯å¦å¿…é¡» | æ•°æ®ç±»å‹ | schema |
| -------- | -------- | -------- | -------- | -------- | ------ |
| file     |          | query    | true     | file     |        |


**å“åº”çŠ¶æ€**:


| çŠ¶æ€ç  | è¯´æ˜ | schema    |
| ------ | ---- | --------- |
| 200    | OK   | Detection |


**å“åº”å‚æ•°**:


| å‚æ•°åç§°   | å‚æ•°è¯´æ˜ | ç±»å‹           | schema         |
| ---------- | -------- | -------------- | -------------- |
| label      |          | string         |                |
| clsId      |          | integer(int32) | integer(int32) |
| bbox       |          | array          |                |
| confidence |          | number(float)  | number(float)  |


**å“åº”ç¤ºä¾‹**:

```javascript
[
	{
		"label": "",
		"clsId": 0,
		"bbox": [],
		"confidence": 0
	}
]
```

#### 3ã€DJLè¯†åˆ«æ–‡å­—


**æ¥å£åœ°å€**:`/word`


**è¯·æ±‚æ–¹å¼**:`POST`


**è¯·æ±‚æ•°æ®ç±»å‹**:`multipart/form-data`


**å“åº”æ•°æ®ç±»å‹**:`*/*`


**æ¥å£æè¿°**:


**è¯·æ±‚å‚æ•°**:


| å‚æ•°åç§° | å‚æ•°è¯´æ˜ | è¯·æ±‚ç±»å‹ | æ˜¯å¦å¿…é¡» | æ•°æ®ç±»å‹ | schema |
| -------- | -------- | -------- | -------- | -------- | ------ |
| file     |          | query    | true     | file     |        |


**å“åº”çŠ¶æ€**:


| çŠ¶æ€ç  | è¯´æ˜ | schema |
| ------ | ---- | ------ |
| 200    | OK   |        |


**å“åº”å‚æ•°**:


æš‚æ— 


**å“åº”ç¤ºä¾‹**:

```javascript

```

#### 4ã€DJLè¯†åˆ«æ–‡å­—


**æ¥å£åœ°å€**:`/word/json`


**è¯·æ±‚æ–¹å¼**:`POST`


**è¯·æ±‚æ•°æ®ç±»å‹**:`multipart/form-data`


**å“åº”æ•°æ®ç±»å‹**:`*/*`


**æ¥å£æè¿°**:


**è¯·æ±‚å‚æ•°**:


| å‚æ•°åç§° | å‚æ•°è¯´æ˜ | è¯·æ±‚ç±»å‹ | æ˜¯å¦å¿…é¡» | æ•°æ®ç±»å‹ | schema |
| -------- | -------- | -------- | -------- | -------- | ------ |
| file     |          | query    | true     | file     |        |


**å“åº”çŠ¶æ€**:


| çŠ¶æ€ç  | è¯´æ˜ | schema    |
| ------ | ---- | --------- |
| 200    | OK   | WordBlock |


**å“åº”å‚æ•°**:


| å‚æ•°åç§°      | å‚æ•°è¯´æ˜ | ç±»å‹           | schema |
| ------------- | -------- | -------------- | ------ |
| text          |          | string         |        |
| charScores    |          | array          |        |
| boxPoint      |          | array          | Point  |
| &emsp;&emsp;x |          | number(double) |        |
| &emsp;&emsp;y |          | number(double) |        |


**å“åº”ç¤ºä¾‹**:

```javascript
[
	{
		"text": "",
		"charScores": [],
		"boxPoint": [
			{
				"x": 0,
				"y": 0
			}
		]
	}
]
```

#### 5ã€åå…‰è¡£æ£€æµ‹


**æ¥å£åœ°å€**:`/reflective/json`


**è¯·æ±‚æ–¹å¼**:`POST`


**è¯·æ±‚æ•°æ®ç±»å‹**:`multipart/form-data`


**å“åº”æ•°æ®ç±»å‹**:`*/*`


**æ¥å£æè¿°**:

**è¯·æ±‚å‚æ•°**:


| å‚æ•°åç§° | å‚æ•°è¯´æ˜ | è¯·æ±‚ç±»å‹ | æ˜¯å¦å¿…é¡» | æ•°æ®ç±»å‹ | schema |
| -------- | -------- | -------- | -------- | -------- | ------ |
| file     |          | query    | true     | file     |        |


**å“åº”çŠ¶æ€**:


| çŠ¶æ€ç  | è¯´æ˜ | schema |
| ------ | ---- | ------ |
| 200    | OK   |        |


**å“åº”å‚æ•°**:


æš‚æ— 


**å“åº”ç¤ºä¾‹**:

```javascript

```

#### 6ã€JNIè¯†åˆ«æ–‡å­—


**æ¥å£åœ°å€**:`/ocr`


**è¯·æ±‚æ–¹å¼**:`POST`


**è¯·æ±‚æ•°æ®ç±»å‹**:`multipart/form-data`


**å“åº”æ•°æ®ç±»å‹**:`*/*`


**æ¥å£æè¿°**:


**è¯·æ±‚å‚æ•°**:


| å‚æ•°åç§°               | å‚æ•°è¯´æ˜ | è¯·æ±‚ç±»å‹ | æ˜¯å¦å¿…é¡» | æ•°æ®ç±»å‹ | schema   |
| ---------------------- | -------- | -------- | -------- | -------- | -------- |
| param                  |          | query    | true     | OcrParam | OcrParam |
| &emsp;&emsp;openAi-key |          |          | false    | string   |          |
| &emsp;&emsp;æè¿°è¯     |          |          | false    | array    | string   |
| file                   |          | query    | true     | file     |          |


**å“åº”çŠ¶æ€**:


| çŠ¶æ€ç  | è¯´æ˜ | schema |
| ------ | ---- | ------ |
| 200    | OK   |        |


**å“åº”å‚æ•°**:


æš‚æ— 


**å“åº”ç¤ºä¾‹**:

```javascript

```

#### 7ã€JNIè¯†åˆ«æ–‡å­—


**æ¥å£åœ°å€**:`/ocr/json`


**è¯·æ±‚æ–¹å¼**:`POST`


**è¯·æ±‚æ•°æ®ç±»å‹**:`multipart/form-data`


**å“åº”æ•°æ®ç±»å‹**:`*/*`


**æ¥å£æè¿°**:


**è¯·æ±‚å‚æ•°**:


| å‚æ•°åç§° | å‚æ•°è¯´æ˜ | è¯·æ±‚ç±»å‹ | æ˜¯å¦å¿…é¡» | æ•°æ®ç±»å‹ | schema |
| -------- | -------- | -------- | -------- | -------- | ------ |
| file     |          | query    | true     | file     |        |



**å“åº”çŠ¶æ€**:


| çŠ¶æ€ç  | è¯´æ˜ | schema    |
| ------ | ---- | --------- |
| 200    | OK   | TextBlock |


**å“åº”å‚æ•°**:


| å‚æ•°åç§°      | å‚æ•°è¯´æ˜ | ç±»å‹           | schema         |
| ------------- | -------- | -------------- | -------------- |
| boxPoint      |          | array          | Point          |
| &emsp;&emsp;x |          | number(double) |                |
| &emsp;&emsp;y |          | number(double) |                |
| boxScore      |          | number(float)  | number(float)  |
| angleIndex    |          | integer(int32) | integer(int32) |
| angleScore    |          | number(float)  | number(float)  |
| angleTime     |          | number(double) | number(double) |
| text          |          | string         |                |
| charScores    |          | array          |                |
| crnnTime      |          | number(double) | number(double) |
| blockTime     |          | number(double) | number(double) |


**å“åº”ç¤ºä¾‹**:

```javascript
[
	{
		"boxPoint": [
			{
				"x": 0,
				"y": 0
			}
		],
		"boxScore": 0,
		"angleIndex": 0,
		"angleScore": 0,
		"angleTime": 0,
		"text": "",
		"charScores": [],
		"crnnTime": 0,
		"blockTime": 0
	}
]
```

#### 8ã€ç«ç„°æ£€æµ‹


**æ¥å£åœ°å€**:`/fire/json`


**è¯·æ±‚æ–¹å¼**:`POST`


**è¯·æ±‚æ•°æ®ç±»å‹**:`multipart/form-data`


**å“åº”æ•°æ®ç±»å‹**:`*/*`


**æ¥å£æè¿°**:


**è¯·æ±‚å‚æ•°**:


| å‚æ•°åç§° | å‚æ•°è¯´æ˜ | è¯·æ±‚ç±»å‹ | æ˜¯å¦å¿…é¡» | æ•°æ®ç±»å‹ | schema |
| -------- | -------- | -------- | -------- | -------- | ------ |
| file     |          | query    | true     | file     |        |


**å“åº”çŠ¶æ€**:


| çŠ¶æ€ç  | è¯´æ˜ | schema |
| ------ | ---- | ------ |
| 200    | OK   |        |


**å“åº”å‚æ•°**:


æš‚æ— 


**å“åº”ç¤ºä¾‹**:

```javascript

```

#### 9ã€å®‰å…¨å¸½æ£€æµ‹


**æ¥å£åœ°å€**:`/construction/json`


**è¯·æ±‚æ–¹å¼**:`POST`


**è¯·æ±‚æ•°æ®ç±»å‹**:`multipart/form-data`


**å“åº”æ•°æ®ç±»å‹**:`*/*`


**æ¥å£æè¿°**:


**è¯·æ±‚å‚æ•°**:


| å‚æ•°åç§° | å‚æ•°è¯´æ˜ | è¯·æ±‚ç±»å‹ | æ˜¯å¦å¿…é¡» | æ•°æ®ç±»å‹ | schema |
| -------- | -------- | -------- | -------- | -------- | ------ |
| file     |          | query    | true     | file     |        |


**å“åº”çŠ¶æ€**:


| çŠ¶æ€ç  | è¯´æ˜ | schema |
| ------ | ---- | ------ |
| 200    | OK   |        |


**å“åº”å‚æ•°**:


æš‚æ— 


**å“åº”ç¤ºä¾‹**:

```javascript

```

### äºŒã€äººè„¸åº”ç”¨

#### 1ã€æ›´æ–°äººè„¸


**æ¥å£åœ°å€**:`/face/update`


**è¯·æ±‚æ–¹å¼**:`POST`


**è¯·æ±‚æ•°æ®ç±»å‹**:`multipart/form-data`


**å“åº”æ•°æ®ç±»å‹**:`*/*`


**æ¥å£æè¿°**:


**è¯·æ±‚å‚æ•°**:


| å‚æ•°åç§°                 | å‚æ•°è¯´æ˜ | è¯·æ±‚ç±»å‹ | æ˜¯å¦å¿…é¡» | æ•°æ®ç±»å‹  | schema    |
| ------------------------ | -------- | -------- | -------- | --------- | --------- |
| param                    |          | query    | true     | FaceParam | FaceParam |
| &emsp;&emsp;äººå‘˜å”¯ä¸€æ ‡è¯† |          |          | true     | string    |           |
| &emsp;&emsp;äººå‘˜åç§°     |          |          | true     | string    |           |
| file                     |          | query    | true     | file      |           |


**å“åº”çŠ¶æ€**:


| çŠ¶æ€ç  | è¯´æ˜ | schema |
| ------ | ---- | ------ |
| 200    | OK   |        |


**å“åº”å‚æ•°**:


æš‚æ— 


**å“åº”ç¤ºä¾‹**:

```javascript

```

#### 2ã€äººè„¸æŸ¥è¯¢


**æ¥å£åœ°å€**:`/face/search`


**è¯·æ±‚æ–¹å¼**:`POST`


**è¯·æ±‚æ•°æ®ç±»å‹**:`multipart/form-data`


**å“åº”æ•°æ®ç±»å‹**:`*/*`


**æ¥å£æè¿°**:


**è¯·æ±‚å‚æ•°**:


| å‚æ•°åç§° | å‚æ•°è¯´æ˜ | è¯·æ±‚ç±»å‹ | æ˜¯å¦å¿…é¡» | æ•°æ®ç±»å‹ | schema |
| -------- | -------- | -------- | -------- | -------- | ------ |
| file     |          | query    | true     | file     |        |


**å“åº”çŠ¶æ€**:


| çŠ¶æ€ç  | è¯´æ˜ | schema       |
| ------ | ---- | ------------ |
| 200    | OK   | PersonObject |


**å“åº”å‚æ•°**:


| å‚æ•°åç§°   | å‚æ•°è¯´æ˜ | ç±»å‹   | schema |
| ---------- | -------- | ------ | ------ |
| personId   |          | string |        |
| personName |          | string |        |


**å“åº”ç¤ºä¾‹**:

```javascript
{
	"personId": "",
	"personName": ""
}
```

#### 3ã€åˆ é™¤äººè„¸


**æ¥å£åœ°å€**:`/face/del`


**è¯·æ±‚æ–¹å¼**:`POST`


**è¯·æ±‚æ•°æ®ç±»å‹**:`application/x-www-form-urlencoded`


**å“åº”æ•°æ®ç±»å‹**:`*/*`


**æ¥å£æè¿°**:


**è¯·æ±‚å‚æ•°**:


| å‚æ•°åç§°                 | å‚æ•°è¯´æ˜ | è¯·æ±‚ç±»å‹ | æ˜¯å¦å¿…é¡» | æ•°æ®ç±»å‹  | schema    |
| ------------------------ | -------- | -------- | -------- | --------- | --------- |
| param                    |          | query    | true     | FaceParam | FaceParam |
| &emsp;&emsp;äººå‘˜å”¯ä¸€æ ‡è¯† |          |          | true     | string    |           |


**å“åº”çŠ¶æ€**:


| çŠ¶æ€ç  | è¯´æ˜ | schema |
| ------ | ---- | ------ |
| 200    | OK   |        |


**å“åº”å‚æ•°**:


æš‚æ— 


**å“åº”ç¤ºä¾‹**:

```javascript

```


> #### 4ã€æ·»åŠ äººè„¸


**æ¥å£åœ°å€**:`/face/add`


**è¯·æ±‚æ–¹å¼**:`POST`


**è¯·æ±‚æ•°æ®ç±»å‹**:`multipart/form-data`


**å“åº”æ•°æ®ç±»å‹**:`*/*`


**æ¥å£æè¿°**:


**è¯·æ±‚å‚æ•°**:


| å‚æ•°åç§°                 | å‚æ•°è¯´æ˜ | è¯·æ±‚ç±»å‹ | æ˜¯å¦å¿…é¡» | æ•°æ®ç±»å‹  | schema    |
| ------------------------ | -------- | -------- | -------- | --------- | --------- |
| param                    |          | query    | true     | FaceParam | FaceParam |
| &emsp;&emsp;äººå‘˜å”¯ä¸€æ ‡è¯† |          |          | true     | string    |           |
| &emsp;&emsp;äººå‘˜åç§°     |          |          | true     | string    |           |
| file                     |          | query    | true     | file      |           |


**å“åº”çŠ¶æ€**:


| çŠ¶æ€ç  | è¯´æ˜ | schema |
| ------ | ---- | ------ |
| 200    | OK   |        |


**å“åº”å‚æ•°**:


æš‚æ— 


**å“åº”ç¤ºä¾‹**:

```javascript

```


## å¼€æºè®¸å¯

ä½¿ç”¨ [Apache License 2.0](https://gitee.com/giteeClass/java-vision/raw/master/LICENSE)